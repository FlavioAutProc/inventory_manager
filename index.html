<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockControl - Sistema de Estoque</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Cabeçalho -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">                    
                    <i class="fas fa-boxes-stacked"></i>
                    <h1>StockControl</h1>
                </div>
                <div class="current-date" id="currentDate"></div>
            </div>
        </header>

        <!-- Conteúdo principal -->
        <main class="app-main">
            <!-- Dashboard -->
            <section id="dashboard" class="content-section active">
                <div class="section-title">
                    <h2><i class="fas fa-chart-line"></i> Visão Geral</h2>
                    <p class="section-subtitle">Monitoramento completo do estoque</p>
                </div>
                
                <div class="dashboard-cards">
                    <div class="dashboard-card total-card" data-section="estoque">
                        <div class="card-icon">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div class="card-content">
                            <h3>Total no Estoque</h3>
                            <p class="card-value" id="totalEstoque">0</p>
                            <p class="card-description">Produtos cadastrados</p>
                        </div>
                        <div class="card-action">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        
                    </div>

                    
                    
                    <div class="dashboard-card warning-card" data-section="alertas">
                        <div class="card-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-content">
                            <h3>Próximo do Vencimento</h3>
                            <p class="card-value" id="proximoVencimento">0</p>
                            <p class="card-description">Vencem em 30 dias</p>
                        </div>
                        <div class="card-action">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                    
                    <div class="dashboard-card danger-card" data-section="alertas">
                        <div class="card-icon">
                            <i class="fas fa-skull-crossbones"></i>
                        </div>
                        <div class="card-content">
                            <h3>Produtos Vencidos</h3>
                            <p class="card-value" id="produtosVencidos">0</p>
                            <p class="card-description">Fora da validade</p>
                        </div>
                        <div class="card-action">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                    
                    <div class="dashboard-card info-card" data-section="alertas">
                        <div class="card-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="card-content">
                            <h3>Produtos em Falta</h3>
                            <p class="card-value" id="produtosFalta">0</p>
                            <p class="card-description">Abaixo do mínimo</p>
                        </div>
                        <div class="card-action">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>
                
                <div class="alert-tables-container">
                    <div class="alert-table-section">
                        <div class="table-header">
                            <h3><i class="fas fa-clock"></i> Próximos do Vencimento</h3>
                            <span class="badge warning-badge" id="proximoCount">0</span>
                        </div>
                        <div class="table-container">
                            <table class="alert-table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Validade</th>
                                        <th>Dias Restantes</th>
                                    </tr>
                                </thead>
                                <tbody id="proximoTableBody">
                                    <!-- Itens serão carregados via JavaScript -->
                                </tbody>
                            </table>
                            <p class="empty-message" id="emptyProximoTable">Nenhum produto próximo do vencimento.</p>
                        </div>
                    </div>
                    
                    <div class="alert-table-section">
                        <div class="table-header">
                            <h3><i class="fas fa-skull-crossbones"></i> Produtos Vencidos</h3>
                            <span class="badge danger-badge" id="vencidoCount">0</span>
                        </div>
                        <div class="table-container">
                            <table class="alert-table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Validade</th>
                                        <th>Dias Vencidos</th>
                                    </tr>
                                </thead>
                                <tbody id="vencidoTableBody">
                                    <!-- Itens serão carregados via JavaScript -->
                                </tbody>
                            </table>
                            <p class="empty-message" id="emptyVencidoTable">Nenhum produto vencido.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Botão de Relatório de Pedidos -->
                    <div class="dashboard-action-button">
                        <button class="btn-report" id="btnRelatorioPedidos">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Relatório para Pedidos</span>
                        </button>
                    </div>

            <!-- Estoque -->
            <section id="estoque" class="content-section">
                <div class="section-title">
                    <h2><i class="fas fa-box-open"></i> Estoque Atual</h2>
                    <p class="section-subtitle">Todos os produtos cadastrados</p>
                </div>
                
                <div class="action-bar">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Buscar produto...">
                    </div>
                    <button class="btn-add" id="btnAddProduct">
                        <i class="fas fa-plus"></i>
                        <span>Novo Produto</span>
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="main-table">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Quantidade</th>
                                <th>Validade</th>
                                <th>Status</th>
                                <th class="text-center">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="estoqueTableBody">
                            <!-- Os dados do estoque serão carregados aqui via JavaScript -->
                        </tbody>
                    </table>
                    <p class="empty-message" id="emptyStockMessage">
                        <i class="fas fa-box-open"></i>
                        Nenhum produto cadastrado no estoque.
                        <button class="btn-link" id="btnEmptyAdd">Cadastrar agora</button>
                    </p>
                </div>
            </section>

            <!-- Cadastro -->
            <section id="cadastro" class="content-section">
                <div class="section-title">
                    <h2><i class="fas fa-plus-circle"></i> Cadastrar Produto</h2>
                    <p class="section-subtitle">Adicione um novo item ao estoque</p>
                </div>
                
                <div class="form-container">
                    <form id="cadastroForm">
                        <div class="form-group">
                            <label for="produtoNome">
                                <i class="fas fa-box"></i>
                                Nome do Produto
                                <span class="required">*</span>
                            </label>
                            <input type="text" id="produtoNome" placeholder="Digite o nome do produto" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produtoQuantidade">
                                    <i class="fas fa-cubes"></i>
                                    Quantidade
                                    <span class="required">*</span>
                                </label>
                                <input type="number" id="produtoQuantidade" min="1" value="1" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="produtoMinimo">
                                    <i class="fas fa-exclamation-circle"></i>
                                    Quantidade Mínima
                                </label>
                                <input type="number" id="produtoMinimo" min="1" value="5">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="produtoValidade">
                                <i class="fas fa-calendar-alt"></i>
                                Data de Validade
                                <span class="required">*</span>
                            </label>
                            <input type="date" id="produtoValidade" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="produtoObservacao">
                                <i class="fas fa-sticky-note"></i>
                                Observações (opcional)
                            </label>
                            <textarea id="produtoObservacao" rows="3" placeholder="Observações sobre o produto..."></textarea>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i>
                                <span>Salvar Produto</span>
                            </button>
                            <button type="button" class="btn-secondary" id="limparForm">
                                <i class="fas fa-times"></i>
                                <span>Cancelar</span>
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Retiradas -->
            <section id="retiradas" class="content-section">
                <div class="section-title">
                    <h2><i class="fas fa-minus-circle"></i> Retirar Produtos</h2>
                    <p class="section-subtitle">Registre saídas do estoque</p>
                </div>
                
                <div class="form-container">
                    <form id="retiradaForm">
                        <div class="form-group">
                            <label for="retiradaProduto">
                                <i class="fas fa-box"></i>
                                Produto
                                <span class="required">*</span>
                            </label>
                            <select id="retiradaProduto">
                                <option value="">Selecione um produto...</option>
                                <!-- As opções serão carregadas via JavaScript -->
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="retiradaQuantidade">
                                    <i class="fas fa-cubes"></i>
                                    Quantidade
                                    <span class="required">*</span>
                                </label>
                                <input type="number" id="retiradaQuantidade" min="1" value="1" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="retiradaQuantidadeDisponivel">
                                    <i class="fas fa-check-circle"></i>
                                    Disponível
                                </label>
                                <input type="text" id="retiradaQuantidadeDisponivel" value="0" disabled>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="retiradaObservacao">
                                <i class="fas fa-sticky-note"></i>
                                Observações (opcional)
                            </label>
                            <textarea id="retiradaObservacao" rows="2" placeholder="Motivo da retirada..."></textarea>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-check"></i>
                                <span>Confirmar Retirada</span>
                            </button>
                            <button type="button" class="btn-secondary" id="cancelarRetirada">
                                <i class="fas fa-times"></i>
                                <span>Cancelar</span>
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="history-section">
                    <div class="section-title">
                        <h3><i class="fas fa-history"></i> Histórico Recente</h3>
                    </div>
                    
                    <div class="table-container">
                        <table class="history-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Produto</th>
                                    <th>Quantidade</th>
                                    <th>Observação</th>
                                </tr>
                            </thead>
                            <tbody id="historicoTableBody">
                                <!-- O histórico será carregado aqui via JavaScript -->
                            </tbody>
                        </table>
                        <p class="empty-message" id="emptyHistoryMessage">
                            <i class="fas fa-history"></i>
                            Nenhuma retirada registrada.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Alertas -->
            <section id="alertas" class="content-section">
                <div class="section-title">
                    <h2><i class="fas fa-exclamation-triangle"></i> Alertas do Sistema</h2>
                    <p class="section-subtitle">Produtos que requerem atenção</p>
                </div>
                
                <div class="alerts-summary">
                    <div class="alert-summary-card warning">
                        <div class="alert-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="alert-content">
                            <h3>Próximos do Vencimento</h3>
                            <p class="alert-value" id="alertProximoCount">0</p>
                            <p class="alert-description">Produtos que vencem em até 30 dias</p>
                        </div>
                    </div>
                    
                    <div class="alert-summary-card danger">
                        <div class="alert-icon">
                            <i class="fas fa-skull-crossbones"></i>
                        </div>
                        <div class="alert-content">
                            <h3>Produtos Vencidos</h3>
                            <p class="alert-value" id="alertVencidoCount">0</p>
                            <p class="alert-description">Produtos com validade expirada</p>
                        </div>
                    </div>
                    
                    <div class="alert-summary-card info">
                        <div class="alert-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="alert-content">
                            <h3>Produtos em Falta</h3>
                            <p class="alert-value" id="alertFaltaCount">0</p>
                            <p class="alert-description">Quantidade abaixo do mínimo</p>
                        </div>
                    </div>
                </div>
                
                <div class="alert-details">
                    <div class="alert-detail-section">
                        <h3><i class="fas fa-clock"></i> Detalhes - Próximos do Vencimento</h3>
                        <div class="table-container">
                            <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Validade</th>
                                        <th>Dias Restantes</th>
                                    </tr>
                                </thead>
                                <tbody id="alertProximoList">
                                    <!-- Itens serão carregados via JavaScript -->
                                </tbody>
                            </table>
                            <p class="empty-message" id="emptyProximoAlert">Nenhum produto próximo do vencimento.</p>
                        </div>
                    </div>
                    
                    <div class="alert-detail-section">
                        <h3><i class="fas fa-skull-crossbones"></i> Detalhes - Produtos Vencidos</h3>
                        <div class="table-container">
                            <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Validade</th>
                                        <th>Dias Vencidos</th>
                                        <th>Ação</th>
                                    </tr>
                                </thead>
                                <tbody id="alertVencidoList">
                                    <!-- Itens serão carregados via JavaScript -->
                                </tbody>
                            </table>
                            <p class="empty-message" id="emptyVencidoAlert">Nenhum produto vencido.</p>
                        </div>
                    </div>
                    
                    <div class="alert-detail-section">
                        <h3><i class="fas fa-exclamation-circle"></i> Detalhes - Produtos em Falta</h3>
                        <div class="table-container">
                            <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Mínimo</th>
                                        <th>Faltam</th>
                                        <th>Ação</th>
                                    </tr>
                                </thead>
                                <tbody id="alertFaltaList">
                                    <!-- Itens serão carregados via JavaScript -->
                                </tbody>
                            </table>
                            <p class="empty-message" id="emptyFaltaAlert">Nenhum produto em falta.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Menu de navegação inferior -->
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-section="dashboard">
                <div class="nav-icon">
                    <i class="fas fa-home"></i>
                </div>
                <span class="nav-label">Dashboard</span>
            </a>
            
            <a href="#" class="nav-item" data-section="estoque">
                <div class="nav-icon">
                    <i class="fas fa-box-open"></i>
                </div>
                <span class="nav-label">Estoque</span>
            </a>
            
            <a href="#" class="nav-item" data-section="cadastro">
                <div class="nav-icon">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <span class="nav-label">Cadastrar</span>
            </a>
            
            <a href="#" class="nav-item" data-section="retiradas">
                <div class="nav-icon">
                    <i class="fas fa-minus-circle"></i>
                </div>
                <span class="nav-label">Retirar</span>
            </a>
            
            <a href="#" class="nav-item" data-section="alertas">
                <div class="nav-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <span class="nav-label">Alertas</span>
                <span class="nav-badge" id="totalAlertas">0</span>
            </a>
        </nav>

        <!-- Modal de confirmação -->
        <div class="modal-overlay" id="confirmationModal">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="modalTitle">Confirmar Ação</h3>
                    <button class="modal-close" id="modalClose">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="modalMessage">Tem certeza que deseja realizar esta ação?</p>
                </div>
                <div class="modal-footer">
                    <button id="modalConfirm" class="btn-primary">Confirmar</button>
                    <button id="modalCancel" class="btn-secondary">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Notificação -->
        <div class="notification" id="notification">
            <div class="notification-content">
                <i class="fas fa-check-circle" id="notificationIcon"></i>
                <span id="notificationText">Operação realizada com sucesso!</span>
            </div>
            <button class="notification-close" id="notificationClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <!-- Modal de Relatório de Pedidos -->
    <div class="modal-overlay" id="pedidosModal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-clipboard-list"></i> Relatório para Pedidos</h3>
                <button class="modal-close" id="pedidosModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body-scroll">
                <form id="pedidoForm" class="pedido-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="pedidoSetor">
                                <i class="fas fa-building"></i>
                                Setor
                                <span class="required">*</span>
                            </label>
                            <select id="pedidoSetor" required>
                                <option value="">Selecione o setor...</option>
                                <option value="almoxarifado">Almoxarifado</option>
                                <option value="cozinha">Cozinha</option>
                                <option value="limpeza">Limpeza</option>
                                <option value="manutencao">Manutenção</option>
                                <option value="escritorio">Escritório</option>
                                <option value="producao">Produção</option>
                                <option value="vendas">Vendas</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="pedidoFuncionario">
                                <i class="fas fa-user"></i>
                                Funcionário Responsável
                                <span class="required">*</span>
                            </label>
                            <input type="text" id="pedidoFuncionario" placeholder="Nome do funcionário" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="pedidoData">
                                <i class="fas fa-calendar-alt"></i>
                                Data do Pedido
                                <span class="required">*</span>
                            </label>
                            <input type="date" id="pedidoData" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="pedidoPrioridade">
                                <i class="fas fa-flag"></i>
                                Prioridade
                            </label>
                            <select id="pedidoPrioridade">
                                <option value="baixa">Baixa</option>
                                <option value="normal" selected>Normal</option>
                                <option value="alta">Alta</option>
                                <option value="urgente">Urgente</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group-full">
                        <label for="pedidoObservacoes">
                            <i class="fas fa-sticky-note"></i>
                            Observações do Pedido
                        </label>
                        <textarea id="pedidoObservacoes" rows="3" placeholder="Observações adicionais sobre o pedido..."></textarea>
                    </div>
                    
                    <!-- Lista de Produtos Disponíveis -->
                    <div class="produtos-lista-container">
                        <div class="produtos-lista-header">
                            <h4><i class="fas fa-boxes"></i> Produtos Disponíveis no Estoque</h4>
                            <div class="search-produtos">
                                <i class="fas fa-search"></i>
                                <input type="text" id="searchProdutosPedido" placeholder="Buscar produto...">
                            </div>
                        </div>
                        
                        <div class="produtos-lista" id="produtosListaPedido">
                            <!-- Produtos serão carregados via JavaScript -->
                        </div>
                        <p class="empty-message" id="emptyProdutosPedido" style="display: none;">
                            <i class="fas fa-box-open"></i>
                            Nenhum produto encontrado no estoque.
                        </p>
                    </div>
                    
                    <!-- Produtos Selecionados -->
                    <div class="form-group-full">
                        <label>
                            <i class="fas fa-clipboard-check"></i>
                            Produtos Selecionados para o Pedido
                        </label>
                        <div class="pedidos-selecionados-info">
                            <span>Itens selecionados: <span class="pedidos-selecionados-count" id="pedidosSelecionadosCount">0</span></span>
                            <span>Quantidade total: <strong id="pedidosQuantidadeTotal">0</strong></span>
                        </div>
                        <div id="pedidosSelecionadosLista">
                            <!-- Produtos selecionados serão exibidos aqui -->
                        </div>
                        <p class="empty-message" id="emptyPedidosSelecionados" style="display: none;">
                            <i class="fas fa-cart-plus"></i>
                            Nenhum produto selecionado. Clique em "Selecionar" nos produtos acima.
                        </p>
                    </div>
                    
                    <!-- Adicionar Produto Manualmente -->
                    <div class="form-group-full">
                        <label>
                            <i class="fas fa-plus-circle"></i>
                            Adicionar Produto Manualmente (fora do estoque)
                        </label>
                        <div class="form-grid">
                            <div class="form-group">
                                <input type="text" id="produtoManualNome" placeholder="Nome do produto">
                            </div>
                            <div class="form-group">
                                <input type="number" id="produtoManualQuantidade" min="1" value="1" placeholder="Quantidade">
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn-secondary" id="btnAdicionarManual" style="width: 100%;">
                                    <i class="fas fa-plus"></i>
                                    Adicionar
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="modal-buttons-pedidos">
                    <button type="button" class="btn-limpar-pedido" id="btnLimparPedido">
                        <i class="fas fa-trash-alt"></i>
                        <span>Limpar Tudo</span>
                    </button>
                    <button type="button" class="btn-gerar-pdf" id="btnGerarPDF">
                        <i class="fas fa-file-pdf"></i>
                        <span>Gerar Relatório PDF</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    
    <script src="script.js"></script>
</body>
</html>